# ReadTrack
ReadTrackは読書の記録を管理するためのアプリです。
## 概要
読みたい本や気になっている本探しから、積読または読み始めたが途中で止まっている本などの把握、感想の記入まで、読書の流れを一元管理できるようにしたいと考え、このアプリケーションを制作しました。  
ユーザーはタイトルまたは書籍背面にあるバーコードを用いて書籍を検索し、気になっている本、購入した本などを登録します。  
なお、登録された本は初めは「未読」状態となっています。  
登録された本はそれぞれ状態を「読書中」「読了」に変更したり、読了ページ数を記録したり、感想を記入したりすることができます。  
また、登録された本は3つの状態ごとに分けて表示されるため、買ってみたがまだ読み始めていない本や読み始めたが途中でやめてしまった本などをいつでも確認することができます。  
また、ホーム画面では直近でアクセスした本と直近で登録された本を表示しており、現在読み進めていると思われる本や新しく購入したと思われる本にはすぐにアクセスすることができます。  
それに加え、ホーム画面では月別の読み進めたページ数をグラフとして表示しており、最近の読書の頻度を可視化しています。

## デモ
<video src="https://github.com/user-attachments/assets/7d2ac95a-50b7-4915-8837-4ee957478e38
" controls width="600" />







## 機能、画面の説明
| 画像 | 機能・説明 |
|------|------------|
|![ホーム画面](https://github.com/user-attachments/assets/1a357db7-ec6e-45a4-866f-4e17efc95be5)| ホーム画面では、直近で登録、更新を行った書籍を参照したり、最近の読書記録をグラフでチェックしたりすることができます。 |
|![ライブラリ画面](https://github.com/user-attachments/assets/64d515c7-f2eb-4a84-8348-ec4295769ded)|ライブラリ画面では、登録した書籍の一覧を表示しています。それぞれの本は読書状態(未読、読書中、読了)で分けられています。それぞれの書籍について、最後に情報を更新した日付と読み進めたページの割合が表示されます。|
|![書籍登録方法選択画面](https://github.com/user-attachments/assets/e6082bfe-9965-44df-9cc1-0a46298276a1)|FABをクリックすると遷移します。書籍の登録方法を選択する画面で、タイトルによる検索と書籍背面のバーコードを読み込んでの検索、書籍情報を手動で入力しての登録から選択することができます。|
|![書籍検索画面](https://github.com/user-attachments/assets/297b4f36-b974-41dc-8ff5-e12a9913b1c0)|書籍登録方法選択画面で「タイトルを検索して登録」をクリックすると遷移します。書籍をタイトルから検索する画面です。ボタンをクリックするとそのワードをタイトルに含む書籍をGoogle books APIを用いて検索し、一覧を表示します。|
|![書籍情報手動入力画面](https://github.com/user-attachments/assets/4b0851fa-d57a-442f-9702-09168f3ae544)|書籍登録方法選択画面で「書籍情報を手動で入力」をクリックすると遷移します。書籍情報を手動で入力して登録する画面です。登録したい書籍の情報をGoogle Books APIが持っていなかった時などはこちらで登録を行うことをお勧めします。書籍のタイトルは入力必須、書籍のページ数については入力推奨となっています。|
|![書籍情報詳細画面](https://github.com/user-attachments/assets/64bd0da8-0fea-43c1-aff3-49bb9858f24a)|書籍検索画面で表示された書籍情報のカードをクリックすると遷移します。この画面ではその書籍の出版日、出版社、著者、あらすじ、ページ数などの書籍に関する情報を確認することができます。「ライブラリに追加」ボタンをクリックするとライブラリにその書籍の情報が保存され、その本の読書状態を管理できるようになります。なお、すでにライブラリに追加してある本の場合は「ライブラリに追加」ボタンは表示されず、代わりに「ライブラリで確認」ボタンが表示され、クリックするとその本の書籍情報編集画面に遷移します。|
|![書籍情報編集画面](https://github.com/user-attachments/assets/620f2dc2-7260-4aae-b7d4-e89686ba8d37)|ライブラリに登録した書籍をクリックすると遷移します。読書状態の変更、読了ページ数の変更、メモの記入などを行うことができます。また、それぞれの書籍について、過去の読了ページ数の更新履歴を確認できます。「変更を保存」ボタンを押すと変更した情報でローカルのデータベースが更新され、「ライブラリから削除する」ボタンをクリックするとライブラリからその書籍の情報が削除されます。|
|![設定画面](https://github.com/user-attachments/assets/1b1a16db-7aa5-4a5c-bd45-86d64084c25c)|設定画面では、アプリのテーマカラーの設定とアプリの使い方の参照を行うことができます。ユーザー情報はDataStoreによってローカルに保存され、アプリを再び開いたときにも反映されます。|
  
## 技術スタック
- 言語: Kotlin
- UI: Jetpack Compose
- データベース: Room
- 設定情報の保存: DataStore
- ネットワーク通信: Retrofit
- 画像読み込み: Coil
- 画面遷移: kotlin serialization
- 依存関係注入: Hilt
- バーコード読み込み：ML Kit, CameraX
- グラフ表示: Vico
- 通知： WorkManager
- その他: Google Books API
  
## ポイント
- 書影の表示に利用するライブラリとしてはシンプルかつキャッシュ保存の可能なCoilを選択した。
- 読書記録のグラフ表示にはjetpack composeに対応したVicoを選択した。
- APIから取得した情報やアプリ内で変更できる情報を持ったBookDataクラスのインスタンスをRoomのローカルデータベースに保存することでこれらの情報を管理できるようにした。
- 書籍の検索画面では取得した本の情報についてLazyColumnで表示し、それぞれの本についてユーザーにタイトルや著者の情報が確認できるようにした。また、検索結果として帰ってくるデータのサイズが大きくなることも想定し、Paging3によるページングを導入した。
- ライブラリ画面では詳細な情報を表示するよりも直感的な見やすさが重要であると考え、書影と読書の進捗状況を表すバーをLazyVerticalGridで表示するような設計とした。また、それぞれの書籍についてどれだけ放置しているかをすぐに把握できるように書影の下に最終更新日を表示するようにした。
- アプリを最後に起動してから1週間が経過したら通知を送るようにすることでユーザーの読書週間定着を促すようにした。
- ユーザーが初めてアプリを起動したかどうかをDatastoreを用いて判断し、初回起動であった場合は設定画面で見られるアプリの使い方に関するダイアログを起動時に表示することで初めてアプリを使う人でもアプリの仕組みが理解しやすいようにした。
  
## 今後の改良点
- 本の感想を他のユーザーと共有できる機能の実装
- 本のタグ付け機能の実装

## リンク
[![Google Playで手に入れよう](https://play.google.com/intl/en_us/badges/static/images/badges/ja_badge_web_generic.png)](https://play.google.com/store/apps/details?id=com.belltree.readtrack)
